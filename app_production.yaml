service: default
runtime: python37

includes:
- config/vars.yaml

default_expiration: "1000d"

handlers:
- url: /c
  static_dir: static/c
  secure: always
- url: /i
  static_dir: static/i
  secure: always
- url: /j
  static_dir: static/j
  secure: always
- url: /favicon.ico
  static_files: static/i/favicon.png
  upload: static/i/favicon.png
  secure: always
- url: /robots.txt
  static_files: static/robots.txt
  upload: static/robots.txt
  secure: always

- url: /.*
  secure: always
  script: auto

error_handlers:
- file: views/static/errors/default.html

- error_code: dos_api_denial
  file: views/static/errors/dos.html

- error_code: over_quota
  file: views/static/errors/quota.html

- error_code: timeout
  file: views/static/errors/timeout.html

skip_files:
- ^(.*/)?.*\.py[co]$
- ^(.*/)?\..*$
- ^(.*/)?__pycache__/.*$
- ^(.*/)?deploy.yaml$
- ^config/.*\.template\..*$
- ^tests/.*$
- ^(.*/)?readme.*$
- ^lib/gae_deploy/lib/.*$
- ^lib/(gae_html|gae_validators)/test\.py$
- ^lib/(sendgrid-python|python-http-client)/(examples|test)/.*$
- ^lib/pip/.*$
